---

---

<div class="cc-tool">
    <div class="card-visual">
        <div class="chip"></div>
        <input
            type="text"
            id="cc-num"
            placeholder="0000 0000 0000 0000"
            maxlength="19"
        />
        <div class="status" id="cc-status">?</div>
    </div>

    <div class="msg-box" id="msg-box"></div>
</div>

<script>
    const inp = document.getElementById("cc-num") as HTMLInputElement;
    const status = document.getElementById("cc-status");
    const msg = document.getElementById("msg-box");

    // Luhn Algorithm
    function luhnCheck(val) {
        let sum = 0;
        let shouldDouble = false;
        // Loop backwards
        for (let i = val.length - 1; i >= 0; i--) {
            let digit = parseInt(val.charAt(i));

            if (shouldDouble) {
                if ((digit *= 2) > 9) digit -= 9;
            }

            sum += digit;
            shouldDouble = !shouldDouble;
        }
        return sum % 10 == 0;
    }

    function detectBrand(num) {
        if (num.startsWith("4")) return "Visa";
        if (num.startsWith("5")) return "MasterCard";
        if (num.startsWith("34") || num.startsWith("37")) return "Amex";
        if (num.startsWith("6")) return "Discover";
        return "";
    }

    inp.addEventListener("input", (e) => {
        // Format
        let val = inp.value.replace(/\D/g, "");
        inp.value = val.replace(/(.{4})/g, "$1 ").trim();

        if (val.length < 13) {
            status.textContent = "?";
            msg.textContent = "";
            status.className = "status";
            return;
        }

        const valid = luhnCheck(val);
        const brand = detectBrand(val);

        if (valid) {
            status.textContent = "✔";
            status.className = "status valid";
            msg.textContent = `Valid ${brand} Number`;
            msg.style.color = "green";
        } else {
            status.textContent = "✘";
            status.className = "status invalid";
            msg.textContent = "Invalid Number";
            msg.style.color = "red";
        }
    });
</script>

<style>
    .cc-tool {
        max-width: 500px;
        margin: 0 auto;
    }
    .card-visual {
        background: linear-gradient(135deg, #1e293b, #0f172a);
        padding: 25px;
        border-radius: 12px;
        position: relative;
        color: white;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
    }
    .chip {
        width: 50px;
        height: 35px;
        background: linear-gradient(135deg, #fbbf24, #d97706);
        border-radius: 6px;
        margin-bottom: 20px;
    }

    input {
        width: 85%;
        background: transparent;
        border: none;
        color: white;
        font-size: 1.5rem;
        font-family: monospace;
        letter-spacing: 2px;
        outline: none;
    }
    input::placeholder {
        color: rgba(255, 255, 255, 0.3);
    }

    .status {
        position: absolute;
        right: 20px;
        bottom: 20px;
        font-size: 1.5rem;
        font-weight: bold;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: #334155;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    .status.valid {
        background: #22c55e;
    }
    .status.invalid {
        background: #ef4444;
    }

    .msg-box {
        text-align: center;
        margin-top: 15px;
        font-weight: bold;
        font-size: 1.1rem;
        height: 20px;
    }
</style>

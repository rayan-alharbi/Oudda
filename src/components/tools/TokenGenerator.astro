---

---

<div class="token-tool">
    <div class="controls">
        <div class="group">
            <label>Length</label>
            <input type="number" id="len" value="32" min="8" max="128" />
        </div>
        <div class="checks">
            <label><input type="checkbox" id="upper" checked /> Uppercase</label
            >
            <label><input type="checkbox" id="lower" checked /> Lowercase</label
            >
            <label><input type="checkbox" id="num" checked /> Numbers</label>
            <label><input type="checkbox" id="sym" checked /> Symbols</label>
        </div>
        <button id="gen" class="btn-primary">Generate Token</button>
    </div>

    <textarea id="output" readonly placeholder="Result..."></textarea>
</div>

<script>
    const lenEl = document.getElementById("len") as HTMLInputElement;
    const outEl = document.getElementById("output") as HTMLTextAreaElement;

    document.getElementById("gen").addEventListener("click", () => {
        const len = parseInt(lenEl.value);
        const chars = {
            upper: "ABCDEFGHIJKLMNOPQRSTUVWXYZ",
            lower: "abcdefghijklmnopqrstuvwxyz",
            num: "0123456789",
            sym: "!@#$%^&*()_+-=[]{}|;:,.<>?",
        };

        let pool = "";
        if ((document.getElementById("upper") as HTMLInputElement).checked)
            pool += chars.upper;
        if ((document.getElementById("lower") as HTMLInputElement).checked)
            pool += chars.lower;
        if ((document.getElementById("num") as HTMLInputElement).checked)
            pool += chars.num;
        if ((document.getElementById("sym") as HTMLInputElement).checked)
            pool += chars.sym;

        if (!pool) {
            outEl.value = "Please select at least one character type.";
            return;
        }

        let result = "";
        const array = new Uint32Array(len);
        window.crypto.getRandomValues(array);

        for (let i = 0; i < len; i++) {
            result += pool[array[i] % pool.length];
        }

        outEl.value = result;
    });
</script>

<style>
    .token-tool {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
        max-width: 600px;
        margin: 0 auto;
    }
    .controls {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        background: var(--c-surface);
        padding: 1.5rem;
        border-radius: 8px;
        border: 1px solid var(--c-border);
    }
    .group {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
    }
    .checks {
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
    }
    input[type="number"] {
        padding: 0.5rem;
        width: 100px;
    }
    textarea {
        height: 100px;
        padding: 1rem;
        border: 1px solid var(--c-border);
        border-radius: 8px;
        font-family: monospace;
        font-size: 1.2rem;
    }
    .btn-primary {
        padding: 0.8rem;
        background: var(--c-primary);
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
    }
</style>

---

---

<div class="pwd-strength">
    <input
        type="text"
        id="password"
        placeholder="أدخل كلمة المرور..."
        class="password-input"
    />

    <div class="meter">
        <div id="meter-fill" class="fill"></div>
    </div>
    <div id="status" class="status">ضعيفة جداً</div>

    <ul class="feedback">
        <li id="rule-length">❌ 8 أحرف على الأقل</li>
        <li id="rule-upper">❌ حرف كبير واحد (A-Z)</li>
        <li id="rule-lower">❌ حرف صغير واحد (a-z)</li>
        <li id="rule-num">❌ رقم واحد (0-9)</li>
        <li id="rule-sym">❌ رمز واحد (!@#$)</li>
    </ul>
</div>

<script>
    const el = document.getElementById("password") as HTMLInputElement;
    const fill = document.getElementById("meter-fill");
    const status = document.getElementById("status");
    const rules = {
        length: document.getElementById("rule-length"),
        upper: document.getElementById("rule-upper"),
        lower: document.getElementById("rule-lower"),
        num: document.getElementById("rule-num"),
        sym: document.getElementById("rule-sym"),
    };

    el.addEventListener("input", () => {
        const val = el.value;
        let score = 0;

        // Checks
        const hLength = val.length >= 8;
        const hUpper = /[A-Z]/.test(val);
        const hLower = /[a-z]/.test(val);
        const hNum = /[0-9]/.test(val);
        const hSym = /[^A-Za-z0-9]/.test(val);

        if (hLength) score++;
        if (hUpper) score++;
        if (hLower) score++;
        if (hNum) score++;
        if (hSym) score++;

        // Update UI
        updateRule(rules.length, hLength);
        updateRule(rules.upper, hUpper);
        updateRule(rules.lower, hLower);
        updateRule(rules.num, hNum);
        updateRule(rules.sym, hSym);

        // Meter
        const pct = (score / 5) * 100;
        fill.style.width = `${pct}%`;

        if (score <= 2) {
            fill.style.background = "#ef4444";
            status.textContent = "ضعيفة";
        } else if (score <= 4) {
            fill.style.background = "#f59e0b";
            status.textContent = "متوسطة";
        } else {
            fill.style.background = "#10b981";
            status.textContent = "قوية";
        }
    });

    function updateRule(el, passed) {
        if (passed) {
            el.textContent = el.textContent.replace("❌", "✅");
            el.style.color = "#10b981";
        } else {
            el.textContent = el.textContent.replace("✅", "❌");
            el.style.color = "#ef4444";
        }
    }
</script>

<style>
    .pwd-strength {
        max-width: 400px;
        margin: 0 auto;
    }
    .password-input {
        width: 100%;
        padding: 10px;
        font-size: 1.1rem;
        border: 1px solid var(--c-border);
        border-radius: 6px;
        margin-bottom: 15px;
    }
    .meter {
        height: 10px;
        background: #e5e7eb;
        border-radius: 5px;
        overflow: hidden;
        margin-bottom: 10px;
    }
    .fill {
        height: 100%;
        width: 0%;
        transition:
            width 0.3s,
            background 0.3s;
        background: #ef4444;
    }
    .status {
        text-align: right;
        font-weight: bold;
        margin-bottom: 15px;
    }
    .feedback {
        list-style: none;
        padding: 0;
        text-align: right;
        font-size: 0.9rem;
    }
    .feedback li {
        margin-bottom: 5px;
        color: #ef4444;
    }
</style>

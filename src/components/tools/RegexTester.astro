---

---

<div class="regex-tool">
    <div class="input-group">
        <label>Pattern (Regex)</label>
        <input type="text" id="pattern" placeholder="/abc/g" value="/\w+/g" />
    </div>

    <div class="input-group">
        <label>Test String</label>
        <textarea id="text" placeholder="النص للاختبار..."
            >Hello World 123</textarea
        >
    </div>

    <div class="output">
        <label>Matches</label>
        <div id="matches" class="matches-box"></div>
    </div>
</div>

<script>
    const patternInput = document.getElementById("pattern") as HTMLInputElement;
    const textInput = document.getElementById("text") as HTMLTextAreaElement;
    const output = document.getElementById("matches");

    function update() {
        output.innerHTML = "";
        let patStr = patternInput.value.trim();
        const text = textInput.value;
        if (!patStr || !text) return;

        let flags = "";
        // Extract flags if presented as /.../g
        if (patStr.startsWith("/")) {
            const lastSlash = patStr.lastIndexOf("/");
            if (lastSlash > 0) {
                flags = patStr.substring(lastSlash + 1);
                patStr = patStr.substring(1, lastSlash);
            }
        }

        try {
            const regex = new RegExp(patStr, flags || "g");
            const matches = text.match(regex);

            if (matches) {
                output.innerHTML =
                    `Found ${matches.length} matches:<br>` +
                    matches
                        .map((m) => `<span class="tag">${m}</span>`)
                        .join(" ");
            } else {
                output.textContent = "No matches found.";
            }
        } catch (e) {
            output.textContent = "Invalid Regex";
            output.style.color = "red";
        }
    }

    patternInput.addEventListener("input", update);
    textInput.addEventListener("input", update);
    update();
</script>

<style>
    .regex-tool {
        max-width: 600px;
        margin: 0 auto;
    }
    .input-group {
        margin-bottom: 20px;
    }
    label {
        font-weight: bold;
        display: block;
        margin-bottom: 5px;
    }
    input,
    textarea {
        width: 100%;
        padding: 10px;
        border: 1px solid var(--c-border);
        border-radius: 4px;
        font-family: monospace;
    }
    textarea {
        height: 100px;
    }
    .matches-box {
        padding: 15px;
        background: var(--c-surface);
        border: 1px solid var(--c-border);
        border-radius: 4px;
        min-height: 50px;
    }
    .tag {
        display: inline-block;
        background: #bfdbfe;
        color: #1e3a8a;
        padding: 2px 6px;
        border-radius: 4px;
        margin: 2px;
        font-family: monospace;
    }
</style>

---

---

<div class="color-mix">
    <div class="controls">
        <div class="grp">
            <label>Color 1</label>
            <input type="color" id="c1" value="#ff0000" />
            <input type="number" id="w1" value="50" min="0" max="100" /> %
        </div>
        <div class="grp">
            <label>Color 2</label>
            <input type="color" id="c2" value="#0000ff" />
            <input type="number" id="w2" value="50" min="0" max="100" /> %
        </div>
    </div>

    <div class="result">
        <div id="preview" class="preview"></div>
        <div class="info">
            <label>Result Hex</label>
            <span id="res-hex">#800080</span>
        </div>
    </div>
</div>

<script>
    const c1 = document.getElementById("c1") as HTMLInputElement;
    const c2 = document.getElementById("c2") as HTMLInputElement;
    const w1 = document.getElementById("w1") as HTMLInputElement;
    const w2 = document.getElementById("w2") as HTMLInputElement;
    const preview = document.getElementById("preview");
    const resHex = document.getElementById("res-hex");

    function hexToRgb(hex) {
        const bigint = parseInt(hex.substring(1), 16);
        return {
            r: (bigint >> 16) & 255,
            g: (bigint >> 8) & 255,
            b: bigint & 255,
        };
    }

    function rgbToHex(r, g, b) {
        return (
            "#" +
            ((1 << 24) + (r << 16) + (g << 8) + b)
                .toString(16)
                .slice(1)
                .toUpperCase()
        );
    }

    function mix() {
        const col1 = hexToRgb(c1.value);
        const col2 = hexToRgb(c2.value);

        let p1 = parseFloat(w1.value) || 0;
        let p2 = parseFloat(w2.value) || 0;

        // Normalize
        const total = p1 + p2;
        if (total === 0) {
            p1 = 0.5;
            p2 = 0.5;
        } else {
            p1 /= total;
            p2 /= total;
        }

        const r = Math.round(col1.r * p1 + col2.r * p2);
        const g = Math.round(col1.g * p1 + col2.g * p2);
        const b = Math.round(col1.b * p1 + col2.b * p2);

        const hex = rgbToHex(r, g, b);
        preview.style.backgroundColor = hex;
        resHex.textContent = hex;
    }

    [c1, c2, w1, w2].forEach((el) => el.addEventListener("input", mix));
    mix();
</script>

<style>
    .color-mix {
        max-width: 500px;
        margin: 0 auto;
        text-align: center;
    }
    .controls {
        display: flex;
        justify-content: space-around;
        margin-bottom: 20px;
    }
    .grp {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
    }
    input[type="color"] {
        width: 60px;
        height: 60px;
        border: none;
        cursor: pointer;
    }
    input[type="number"] {
        width: 60px;
        padding: 5px;
        text-align: center;
        border: 1px solid var(--c-border);
        border-radius: 4px;
    }

    .result {
        background: var(--c-surface);
        padding: 20px;
        border-radius: 8px;
        border: 1px solid var(--c-border);
    }
    .preview {
        width: 100px;
        height: 100px;
        margin: 0 auto 15px;
        border-radius: 50%;
        border: 4px solid white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    .info {
        font-size: 1.2rem;
        font-weight: bold;
    }
    .info label {
        display: block;
        font-size: 0.8rem;
        color: var(--c-text-muted);
        margin-bottom: 5px;
    }
</style>

---

---

<div class="xml-tool">
    <div class="pane">
        <label>XML</label>
        <textarea id="xml-in" placeholder="<root><name>John</name></root>"
        ></textarea>
    </div>
    <div class="actions">
        <button id="to-json">إلى JSON ➡</button>
        <button id="to-xml">⬅ إلى XML</button>
    </div>
    <div class="pane">
        <label>JSON</label>
        <textarea id="json-in" placeholder='{"root": {"name": "John"}}'
        ></textarea>
    </div>
</div>

<script>
    import { XMLParser, XMLBuilder } from "fast-xml-parser";

    const xIn = document.getElementById("xml-in") as HTMLTextAreaElement;
    const jIn = document.getElementById("json-in") as HTMLTextAreaElement;

    const parser = new XMLParser();
    const builder = new XMLBuilder({ format: true });

    document.getElementById("to-json").addEventListener("click", () => {
        try {
            const obj = parser.parse(xIn.value);
            jIn.value = JSON.stringify(obj, null, 2);
        } catch (e) {
            jIn.value = "Error parsing XML";
        }
    });

    document.getElementById("to-xml").addEventListener("click", () => {
        try {
            const obj = JSON.parse(jIn.value);
            xIn.value = builder.build(obj);
        } catch (e) {
            xIn.value = "Error parsing JSON";
        }
    });
</script>

<style>
    .xml-tool {
        display: flex;
        gap: 10px;
        height: 500px;
        max-width: 1000px;
        margin: 0 auto;
    }
    @media (max-width: 600px) {
        .xml-tool {
            flex-direction: column;
            height: auto;
        }
    }
    .pane {
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    textarea {
        flex: 1;
        padding: 10px;
        border: 1px solid var(--c-border);
        border-radius: 6px;
        font-family: monospace;
        resize: none;
    }
    .actions {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 10px;
    }
    @media (max-width: 600px) {
        .actions {
            flex-direction: row;
        }
    }
    button {
        padding: 10px;
        background: var(--c-primary);
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
</style>

---

---

<div class="yaml-tool">
    <div class="pane">
        <label>YAML</label>
        <textarea id="yaml-input" placeholder="name: John\nage: 30"></textarea>
    </div>
    <div class="actions">
        <button id="to-json">إلى JSON ➡</button>
        <button id="to-yaml">⬅ إلى YAML</button>
    </div>
    <div class="pane">
        <label>JSON</label>
        <textarea id="json-input" placeholder='{"name": "John", "age": 30}'
        ></textarea>
    </div>
</div>

<script>
    import yaml from "js-yaml";

    const yIn = document.getElementById("yaml-input") as HTMLTextAreaElement;
    const jIn = document.getElementById("json-input") as HTMLTextAreaElement;

    document.getElementById("to-json").addEventListener("click", () => {
        try {
            const obj = yaml.load(yIn.value);
            jIn.value = JSON.stringify(obj, null, 2);
        } catch (e) {
            jIn.value = "Error: " + e.message;
        }
    });

    document.getElementById("to-yaml").addEventListener("click", () => {
        try {
            const obj = JSON.parse(jIn.value);
            yIn.value = yaml.dump(obj);
        } catch (e) {
            yIn.value = "Error: " + e.message;
        }
    });
</script>

<style>
    .yaml-tool {
        display: flex;
        gap: 10px;
        height: 500px;
        max-width: 1000px;
        margin: 0 auto;
    }
    @media (max-width: 600px) {
        .yaml-tool {
            flex-direction: column;
            height: auto;
        }
    }

    .pane {
        flex: 1;
        display: flex;
        flex-direction: column;
    }
    label {
        font-weight: bold;
        margin-bottom: 5px;
        text-align: center;
    }
    textarea {
        flex: 1;
        padding: 10px;
        border: 1px solid var(--c-border);
        border-radius: 6px;
        font-family: monospace;
        resize: none;
        min-height: 200px;
    }

    .actions {
        display: flex;
        flex-direction: column;
        justify-content: center;
        gap: 10px;
    }
    @media (max-width: 600px) {
        .actions {
            flex-direction: row;
        }
    }

    button {
        padding: 10px;
        cursor: pointer;
        background: var(--c-primary);
        color: white;
        border: none;
        border-radius: 4px;
    }
</style>
